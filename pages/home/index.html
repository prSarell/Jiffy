/jiffy/pages/home/index.html

<!-- 
File: /jiffy/pages/home/index.html
Purpose: This file serves as the main entry point for Jiffy’s home page after the redirect from /jiffy/index.html. It sets up the PWA configuration (manifest, meta tags, icon links) to ensure the app launches in full-screen mode with the correct icon on the Home Screen. It contains the core UI elements of the app, which are being rebuilt step by step for maximum stability. Currently, it includes:
  - Header Section: Select text (left-aligned), Jiffy title (centered), Hamburger Menu (right-aligned).
Future steps will add more elements incrementally, such as the action buttons (Prompts, Rewards, Add) and category buttons (Home, Life, Work, School).
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>Jiffy - ADHD Task Manager</title>
  <link rel="manifest" href="../../manifest.json">
  <link rel="apple-touch-icon" sizes="180x180" href="../../assets/icon-180.png">
  <link rel="apple-touch-icon" sizes="512x512" href="../../assets/icon-512.png">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #000000;
      color: #ffffff;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      top: env(safe-area-inset-top);
      left: 0;
      width: 100%;
      padding: 3px 30px;
      background-color: #000000;
      z-index: 10;
      box-sizing: border-box;
    }
    .jiffy-title {
      font-size: 17px;
      font-weight: 500;
      margin: 0;
      text-align: center;
      flex-grow: 1;
      color: #ffffff;
    }
    .hamburger-menu {
      font-size: 14px;
      font-weight: 500;
      background: none;
      border: none;
      color: #ffffff;
      cursor: pointer;
      padding: 0;
      margin-left: auto;
    }
    #select-button {
      font-size: 7px;
      font-weight: 500;
      cursor: pointer;
      color: #ffffff;
    }
  </style>
</head>
<body>
  <!-- Header Section -->
  <header>
    <span id="select-button">Select</span>
    <h1 class="jiffy-title">Jiffy</h1>
    <button class="hamburger-menu">☰</button>
  </header>

  <script>
    console.log("Jiffy: Page loaded at", new Date());
    console.log("Jiffy: Checking PWA setup...");
    // Check if running in standalone mode
    if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true) {
      console.log("Jiffy: Running in standalone mode");
    } else {
      console.error("Jiffy: NOT running in standalone mode");
    }
    // Check if PWA manifest is loaded
    const manifestLink = document.querySelector('link[rel="manifest"]');
    if (manifestLink) {
      console.log("Jiffy: Manifest link found:", manifestLink.href);
      fetch(manifestLink.href)
        .then(response => {
          if (response.ok) {
            console.log("Jiffy: Manifest loaded successfully, status:", response.status);
            return response.json();
          } else {
            console.error("Jiffy: Failed to load manifest, status:", response.status);
          }
        })
        .then(data => console.log("Jiffy: Manifest content:", data))
        .catch(error => console.error("Jiffy: Error loading manifest:", error));
    } else {
      console.error("Jiffy: Manifest link not found!");
    }
    // Check if icons are loaded
    const iconLinks = document.querySelectorAll('link[rel="apple-touch-icon"]');
    iconLinks.forEach(link => {
      console.log("Jiffy: Icon link found:", link.href);
      const img = new Image();
      img.onload = () => console.log("Jiffy: Icon loaded successfully:", link.href);
      img.onerror = () => console.error("Jiffy: Failed to load icon:", link.href);
      img.src = link.href;
    });
    if (iconLinks.length === 0) {
      console.error("Jiffy: No icon links found!");
    }
  </script>
</body>
</html>