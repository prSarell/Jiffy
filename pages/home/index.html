/jiffy/pages/home/index.html

<!-- This file serves as the main entry point for Jiffy’s home page, combining the Header and Actions section (Select, Jiffy title, Hamburger Menu, Prompts, Rewards, Add buttons) and the Categories and Colors section (category buttons and color management). It sets up the overall layout, ensures PWA functionality (full-screen mode, Home Screen icon), and provides minimal global styles for the app, while inlining the content of header-and-actions.html and categories-and-colors.html to maintain a single point of rendering. -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <title>Jiffy - ADHD Task Manager</title>
  <link rel="manifest" href="../../manifest.json">
  <link rel="apple-touch-icon" sizes="180x180" href="../../assets/icon-180.png?v=3">
  <link rel="apple-touch-icon" sizes="512x512" href="../../assets/icon-512.png?v=3">
  <link rel="stylesheet" href="../../shared/styles.css">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #000000;
      color: #ffffff;
    }
  </style>
</head>
<body>
  <!-- Header and Actions Section -->
  <header>
    <span id="select-button">Select</span>
    <h1 class="jiffy-title">Jiffy</h1>
    <button class="hamburger-menu">☰</button>
  </header>
  <div id="button-container">
    <div class="button-item">
      <span id="prompts-button"></span>
      <span class="button-label">Prompts</span>
    </div>
    <div class="button-item">
      <span id="rewards-button"></span>
      <span class="button-label">Rewards</span>
    </div>
    <div class="button-item">
      <span id="add-button"></span>
      <span class="button-label">Add</span>
    </div>
  </div>

  <!-- Categories and Colors Section -->
  <div id="category-container">
    <div class="category-item">
      <span class="category-button" style="background-color: #1E3A8A;"></span>
      <span class="category-label">Home</span>
    </div>
    <div class="category-item">
      <span class="category-button" style="background-color: #3B82F6;"></span>
      <span class="category-label">Life</span>
    </div>
    <div class="category-item">
      <span class="category-button" style="background-color: #60A5FA;"></span>
      <span class="category-label">Work</span>
    </div>
    <div class="category-item">
      <span class="category-button" style="background-color: #93C5FD;"></span>
      <span class="category-label">School</span>
    </div>
  </div>

  <script>
    console.log("Jiffy: Page loaded at", new Date());
    console.log("Jiffy: Checking PWA setup...");
    // Check if running in standalone mode
    if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true) {
      console.log("Jiffy: Running in standalone mode");
    } else {
      console.error("Jiffy: NOT running in standalone mode");
    }
    // Check if PWA manifest is loaded
    const manifestLink = document.querySelector('link[rel="manifest"]');
    if (manifestLink) {
      console.log("Jiffy: Manifest link found:", manifestLink.href);
      fetch(manifestLink.href)
        .then(response => {
          if (response.ok) {
            console.log("Jiffy: Manifest loaded successfully, status:", response.status);
            return response.json();
          } else {
            console.error("Jiffy: Failed to load manifest, status:", response.status);
          }
        })
        .then(data => console.log("Jiffy: Manifest content:", data))
        .catch(error => console.error("Jiffy: Error loading manifest:", error));
    } else {
      console.error("Jiffy: Manifest link not found!");
    }
    // Check if icons are loaded
    const iconLinks = document.querySelectorAll('link[rel="apple-touch-icon"]');
    iconLinks.forEach(link => {
      console.log("Jiffy: Icon link found:", link.href);
      const img = new Image();
      img.onload = () => console.log("Jiffy: Icon loaded successfully:", link.href);
      img.onerror = () => console.error("Jiffy: Failed to load icon:", link.href);
      img.src = link.href;
    });
    if (iconLinks.length === 0) {
      console.error("Jiffy: No icon links found!");
    }
    console.log("Jiffy: Checking button container...");
    const buttonContainer = document.getElementById("button-container");
    if (buttonContainer) {
      console.log("Jiffy: Button container found, child elements:", buttonContainer.children);
      console.log("Jiffy: Button container bounding rect:", buttonContainer.getBoundingClientRect());
    } else {
      console.error("Jiffy: Button container not found!");
    }
    console.log("Jiffy: Checking category container...");
    const categoryContainer = document.getElementById("category-container");
    if (categoryContainer) {
      console.log("Jiffy: Category container found, child elements:", categoryContainer.children);
      console.log("Jiffy: Category container bounding rect:", categoryContainer.getBoundingClientRect());
    } else {
      console.error("Jiffy: Category container not found!");
    }
    // Check if styles.css loaded
    const styleLink = document.querySelector('link[rel="stylesheet"][href*="/shared/styles.css"]');
    if (styleLink) {
      console.log("Jiffy: styles.css link found:", styleLink.href);
      fetch(styleLink.href)
        .then(response => {
          if (response.ok) {
            console.log("Jiffy: styles.css loaded successfully, status:", response.status);
          } else {
            console.error("Jiffy: Failed to load styles.css, status:", response.status);
          }
        })
        .catch(error => console.error("Jiffy: Error loading styles.css:", error));
    } else {
      console.error("Jiffy: styles.css link not found!");
    }
  </script>
</body>
</html>